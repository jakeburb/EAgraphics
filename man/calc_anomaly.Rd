% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FunctionsN.R
\name{calc_anomaly}
\alias{calc_anomaly}
\title{Calculate Anomalies from a Baseline Mean}
\usage{
calc_anomaly(data, baseline_range, year_range = NULL, quiet = FALSE)
}
\arguments{
\item{data}{A data frame containing at least \code{year} and \code{value} columns.}

\item{baseline_range}{Numeric vector \code{c(start, end)} defining the period
used to calculate the mean. This argument is required.}

\item{year_range}{Optional numeric vector \code{c(start, end)} to filter the
returned data. If \code{NULL}, returns all years in the input data.}

\item{quiet}{Logical. If \code{FALSE} (default), prints the baseline mean
to the console via a message.}
}
\value{
A focused data frame (tibble) with columns: \code{year}, \code{value},
  \code{baseline_mean}, and \code{anomaly}.
}
\description{
Calculates the anomaly of a variable relative to a user-specified baseline
period. Returns a focused data frame containing only the year, the original
value, the baseline mean used, and the resulting anomaly.
}
\examples{
\dontrun{
# Example 1: Using the native R pipe (|>)
sst_anom <- EA.data |>
  dplyr::filter(variable == "sst.month10", EAR == 0) |>
  calc_anomaly(baseline_range = c(1991, 2020))

# Example 2: Using base R subset() and assignment
physical_data <- subset(EA.data, variable == "t.deep" & EAR == 1)
deep_t_anom <- calc_anomaly(data = physical_data,
                            baseline_range = c(1995, 2015))

# View the clean result
head(deep_t_anom)
}
}
