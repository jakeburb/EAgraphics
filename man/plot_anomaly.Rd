% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FunctionsN.R
\name{plot_anomaly}
\alias{plot_anomaly}
\title{Plot Generic Anomaly with Standardized Scorecard}
\usage{
plot_anomaly(
  data,
  value_col,
  var_col = NULL,
  composite_data = NULL,
  comp_value_col = NULL,
  show_composite = TRUE,
  show_scorecard = TRUE,
  year_range = NULL,
  colors = NULL,
  lang = "en",
  y_label = NULL,
  y_breaks = ggplot2::waiver(),
  base_size = 11
)
}
\arguments{
\item{data}{Data frame containing \code{year} and the anomaly values.}

\item{value_col}{Unquoted name of the anomaly column for the bars.}

\item{var_col}{Optional unquoted name of the grouping column (e.g., \code{Depth}).}

\item{composite_data}{Optional data frame for the line and scorecard.}

\item{comp_value_col}{Unquoted name of the column for the line/scorecard.}

\item{show_composite}{Logical. Should the composite line be drawn?}

\item{show_scorecard}{Logical. Should the heatmap scorecard be drawn?}

\item{year_range}{Numeric vector \code{c(start, end)}.}

\item{colors}{Optional named vector for bar colors.}

\item{lang}{Language: \code{"en"} (default) or \code{"fr"}.}

\item{y_label}{Optional string for the y-axis title.}

\item{y_breaks}{Optional numeric vector for y-axis tick marks.}

\item{base_size}{Numeric. Base font size for scaling all plot text. Defaults to 11.}
}
\value{
A combined plot object (cowplot).
}
\description{
Creates a publication-quality anomaly plot with a standardized color scorecard.
Features include bilingual support, automated alignment, and y-axis customization.
}
\examples{
\dontrun{
# Example 1: Standard SST Anomaly with Scorecard
sst_anom <- EA.data |>
  dplyr::filter(variable == "sst.month10", EAR == 5) |>
  calc_anomaly(baseline_range = c(1991, 2020))

plot_anomaly(sst_anom, value_col = anomaly, comp_value_col = anomaly)

# Example 2: Comparison (One region as bars, another as composite line)
comp_data <- EA.data |>
  dplyr::filter(variable == "t.deep", EAR \%in\% c(1, 5)) |>
  dplyr::group_by(EAR) |>
  calc_anomaly(baseline_range = c(1991, 2020))

plot_anomaly(data = subset(comp_data, EAR == 5),
             value_col = anomaly,
             var_col = EAR,
             composite_data = subset(comp_data, EAR == 1),
             comp_value_col = anomaly)

# Example 3: Bar-only look
plot_anomaly(data = sst_anom, value_col = anomaly, show_scorecard = FALSE)
}
}
