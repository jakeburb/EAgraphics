% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/FunctionsN.R
\name{plot_anomaly_comp}
\alias{plot_anomaly_comp}
\title{Plot Generic Anomaly with Standardized Scorecard With Composite Computed Internally}
\usage{
plot_anomaly_comp(
  data,
  value_col,
  var_col = NULL,
  unit = NULL,
  show_composite = TRUE,
  show_scorecard = TRUE,
  year_range = NULL,
  x_breaks_interval = 1,
  colors = NULL,
  lang = "en",
  y_label = NULL,
  y_breaks = ggplot2::waiver(),
  base_size = 11
)
}
\arguments{
\item{data}{Data frame containing \code{year} and the anomaly values.}

\item{value_col}{Unquoted name of the anomaly column for the bars.}

\item{var_col}{Optional unquoted name of the grouping column for stacked bars.}

\item{unit}{Optional string for units (e.g., "m"). Appends to legend items only.}

\item{show_composite}{Logical. Should the composite line be drawn?}

\item{show_scorecard}{Logical. Should the heatmap scorecard be drawn?}

\item{year_range}{Numeric vector \code{c(start, end)}.}

\item{x_breaks_interval}{Numeric. Interval for year labels. Defaults to 1.}

\item{colors}{Optional character vector of colors. Defaults to "YlGnBu".}

\item{lang}{Language: \code{"en"} (default) or \code{"fr"}.}

\item{y_label}{Optional string for the y-axis title. Defaults to "Anomalies".}

\item{y_breaks}{Optional numeric vector for y-axis tick marks.}

\item{base_size}{Numeric. Base font size. Defaults to 11.}
}
\value{
A combined ggplot/cowplot object.
}
\description{
Creates a publication-quality anomaly plot with stacked bars and a scorecard.
The function automatically calculates a composite annual sum and a
standardized scorecard value (Annual Sum / SD of all Annual Sums).
The grouping legend (e.g., depth) can be customized with units.
}
\examples{
\dontrun{
# Example 1: Dissolved Oxygen anomalies at different depths
# The legend will show "200 m", "500 m", etc.
plot_anomaly_comp(data = do_data,
                  value_col = anomaly,
                  var_col = depth,
                  unit = "m",
                  y_label = "Dissolved Oxygen Anomaly (ml/L)")

# Example 2: Simple temperature anomaly with scorecard but no stacks
plot_anomaly_comp(data = sst_data,
                  value_col = sst_anom,
                  show_composite = TRUE,
                  colors = "red")
}
}
